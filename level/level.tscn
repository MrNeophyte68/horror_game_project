[gd_scene load_steps=15 format=3 uid="uid://6n6tw3hrvg8i"]

[ext_resource type="Script" uid="uid://b6mn5m38gbdip" path="res://scripts/game_intro.gd" id="1_qohg2"]
[ext_resource type="PackedScene" uid="uid://bc8gum0yfovaq" path="res://player/player.tscn" id="2_qohg2"]
[ext_resource type="PackedScene" uid="uid://bthiyrqhjc2pr" path="res://level/starting_room.tscn" id="3_qohg2"]
[ext_resource type="PackedScene" uid="uid://by81628uy2fly" path="res://ui/cutscene_ui.tscn" id="3_vkbyq"]
[ext_resource type="PackedScene" uid="uid://doqlr1o8r6yos" path="res://level/camera.tscn" id="5_ktfr2"]

[sub_resource type="Gradient" id="Gradient_qohg2"]
offsets = PackedFloat32Array(0, 0.363208, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.260402, 0.260402, 0.260402, 1, 0.603248, 0.603248, 0.603248, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_vkbyq"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ktfr2"]
seamless = true
color_ramp = SubResource("Gradient_qohg2")
noise = SubResource("FastNoiseLite_vkbyq")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5gx2l"]
sky_top_color = Color(0.0292021, 0.0439498, 0.0845648, 1)
sky_horizon_color = Color(0, 0, 0, 1)
sky_cover = SubResource("NoiseTexture2D_ktfr2")
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0, 0, 0, 1)

[sub_resource type="Sky" id="Sky_qohg2"]
sky_material = SubResource("ProceduralSkyMaterial_5gx2l")

[sub_resource type="Environment" id="Environment_vkbyq"]
background_mode = 2
sky = SubResource("Sky_qohg2")
tonemap_mode = 2
ssao_enabled = true
ssil_enabled = true
glow_enabled = true
glow_hdr_threshold = 0.0
fog_light_color = Color(0.822082, 0.420959, 0.246029, 1)
fog_light_energy = 0.5
fog_density = 0.001
fog_depth_begin = 0.0
volumetric_fog_anisotropy = 0.51
volumetric_fog_length = 3.0
volumetric_fog_temporal_reprojection_enabled = false

[sub_resource type="Animation" id="Animation_qohg2"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("cutscene_camera:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.0872665, -2.0944, 0.750492)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("cutscene_camera:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-3.82, 0.2, 0.711)]
}

[sub_resource type="Animation" id="Animation_5gx2l"]
resource_name = "cutscene"
length = 20.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("cutscene_camera:rotation")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(1.01, 2.31, 3.53, 6.26667, 10.2667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, -2.0944, 0.872665), Vector3(0.0872665, -2.0944, 0.750492), Vector3(0, -2.0944, 0.558505), Vector3(-0.666716, -1.07861, 0.178024), Vector3(0, -1.5708, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("cutscene_camera:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3.06667, 4.96667, 5.53333, 7.03333, 10.0406),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-3.82011, 0.0851289, 0.711425), Vector3(-3.82, 0.2, 0.801), Vector3(-3.82, 0.18, 0.921), Vector3(-3.82, 1, 1), Vector3(-3.82, 1.67, 2)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vkbyq"]
_data = {
&"RESET": SubResource("Animation_qohg2"),
&"cutscene": SubResource("Animation_5gx2l")
}

[node name="Level" type="Node3D"]
script = ExtResource("1_qohg2")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vkbyq")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.99914, -0.0234915, -0.0341803, 0.0414746, 0.565919, 0.823417, 0, -0.824126, 0.566406, 0, 7.58255, 2.80703)
visible = false
shadow_enabled = true

[node name="Node3D" parent="." instance=ExtResource("3_qohg2")]
transform = Transform3D(1.1, 0, 0, 0, 1.1, 0, 0, 0, 1.1, 0, 0, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_vkbyq")
}

[node name="cutscene_camera" type="Camera3D" parent="."]
transform = Transform3D(-0.417156, 0.285801, -0.862727, 0.679403, 0.728571, -0.0871557, 0.603648, -0.622498, -0.498101, -3.82, 0.2, 0.711)

[node name="cutscene_ui" parent="." instance=ExtResource("3_vkbyq")]

[node name="Player" parent="." instance=ExtResource("2_qohg2")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -3.82, 1, 2)

[node name="camera" parent="." instance=ExtResource("5_ktfr2")]
transform = Transform3D(0.848048, 0, -0.529919, 0, 1, 0, 0.529919, 0, 0.848048, -0.999156, 0, 0.424252)

[editable path="Node3D"]
[editable path="Player"]
